<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ICMP Grundlagen Quiz</title>
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Bootstrap CSS und JS CDN -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.0.8/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(to bottom, #8A2BE2, #0000FF);
            margin: 0;
            padding: 20px;
        }

        h1 {
            text-align: center;
            color: #fff;
        }

        #quiz-container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .question {
            margin-bottom: 20px;
            color: #582ced;
        }

        .options label {
            display: block;
            margin-bottom: 10px;
            color: black;
        }

        .options input {
            margin-right: 10px;
        }

        #submit-btn {
            background-color: #3d3d3d;
            color: #fff;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
        }

        /* Stil für das Diagramm */
        #quizResultsChart {
            margin-top: 20px;
        }

        /* Anpassungen für Frage 7 */
        .question:last-child {
            margin-bottom: 0;
        }

        .question:last-child p {
            margin-bottom: 0;
        }
    </style>
</head>

<body>
    <h1>Quiz über das Thema ICMP</h1>
    <div id="quiz-container">
        <!-- Frage 1 -->
        <div class="question">
            <p>Frage 1: Was ist die Hauptrolle des Internet Control Message Protocol (ICMP)?</p>
            <div class="options">
                <label><input type="radio" name="q1" value="A"> A) Transport von Benutzerdaten</label>
                <label><input type="radio" name="q1" value="B"> B) Austausch von Netzwerkstatusinformationen und Fehlermeldungen</label>
                <label><input type="radio" name="q1" value="C"> C) Verschlüsselung von Daten</label>
                <label><input type="radio" name="q1" value="D"> D) Routing von IP-Paketen</label>
            </div>
        </div>

        <!-- Frage 2 -->
        <div class="question">
            <p>Frage 2: Wofür wird eine ICMP-Nachricht vom Typ 'Destination Unreachable' gesendet?</p>
            <div class="options">
                <label><input type="radio" name="q2" value="A"> A) Wenn ein Router überlastet ist</label>
                <label><input type="radio" name="q2" value="B"> B) Wenn ein Zielnetzwerk nicht erreichbar ist</label>
                <label><input type="radio" name="q2" value="C"> C) Wenn ein IP-Paket manipuliert wurde</label>
                <label><input type="radio" name="q2" value="D"> D) Wenn ein IP-Paket sein Ziel erreicht hat</label>
            </div>
        </div>

        <!-- Frage 3 -->
        <div class="question">
            <p>Frage 3: Wofür wird das 'Ping'-Kommando verwendet?</p>
            <div class="options">
                <label><input type="radio" name="q3" value="A"> A) Um die Geschwindigkeit einer Internetverbindung zu messen</label>
                <label><input type="radio" name="q3" value="B"> B) Um die Round-Trip-Zeit von Paketen zu messen</label>
                <label><input type="radio" name="q3" value="C"> C) Um die Größe eines Netzwerks zu bestimmen</label>
                <label><input type="radio" name="q3" value="D"> D) Um Firewalls zu konfigurieren</label>
            </div>
        </div>

        <!-- Frage 4 -->
        <div class="question">
            <p>Frage 4: Was bedeutet eine ICMP 'Time Exceeded'-Nachricht?</p>
            <div class="options">
                <label><input type="radio" name="q4" value="A"> A) Dass das Zielnetzwerk überlastet ist</label>
                <label><input type="radio" name="q4" value="B"> B) Dass das 'Time-to-Live' (TTL) Feld eines Pakets auf 0 abgelaufen ist</label>
                <label><input type="radio" name="q4" value="C"> C) Dass ein Paket sein Ziel erreicht hat</label>
                <label><input type="radio" name="q4" value="D"> Dass die Verschlüsselung eines Pakets fehlgeschlagen ist</label>
            </div>
        </div>

        <!-- Frage 5 -->
        <div class="question">
            <p>Frage 5: Welche Rolle spielen ICMP-Nachrichten im Netzwerkmanagement?</p>
            <div class="options">
                <label><input type="radio" name="q5" value="A"> A) Sie werden für die Datenverschlüsselung verwendet</label>
                <label><input type="radio" name="q5" value="B"> B) Sie dienen der Überwachung von Netzwerkgeräten</label>
                <label><input type="radio" name="q5" value="C"> C) Sie regulieren die Internetgeschwindigkeit</label>
                <label><input type="radio" name="q5" value="D"> D) Sie werden für E-Mail-Dienste verwendet</label>
            </div>
        </div>

        <!-- Frage 6 -->
        <div class="question">
            <p>Frage 6: Welche Aussage beschreibt eine Sicherheitsbedrohung im Zusammenhang mit ICMP?</p>
            <div class="options">
                <label><input type="radio" name="q6" value="A"> A) ICMP kann nicht für Netzwerkangriffe verwendet werden</label>
                <label><input type="radio" name="q6" value="B"> B) ICMP wird für die sichere Datenübertragung verwendet</label>
                <label><input type="radio" name="q6" value="C"> C) ICMP kann für Angriffe wie ICMP Flood genutzt werden</label>
                <label><input type="radio" name="q6" value="D"> D) ICMP verhindert alle Arten von Netzwerkangriffen</label>
            </div>
        </div>

        <!-- Frage 7 -->
        <div class="question">
            <p>Frage 7: Welche Limitation hat ICMP in Bezug auf Sicherheit?</p>
            <div class="options">
                <label><input type="radio" name="q7" value="A"> A) Es bietet starke Verschlüsselungsmechanismen</label>
                <label><input type="radio" name="q7" value="B"> B) Es bietet keine Mechanismen wie Verschlüsselung oder Authentifizierung</label>
                <label><input type="radio" name="q7" value="C"> C) Es verhindert automatisch alle Netzwerkangriffe</label>
                <label><input type="radio" name="q7" value="D"> D) Es unterstützt nur veraltete Netzwerkprotokolle</label>
            </div>
        </div>

        <button id="submit-btn" onclick="checkAnswers()">Quiz Abschicken</button>
    </div>

    <!-- Ergebnis-Container für das Diagramm -->
    <div id="result-container" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="resultModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="resultModalLabel">Quiz Ergebnisse</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <canvas id="quizResultsChart" width="400" height="200"></canvas>
                    <div id="result-text"></div>
                    <div id="solutions"></div> <!-- Hier werden die Lösungen angezeigt -->
                </div>
            </div>
        </div>
    </div>

    <script>
        function checkAnswers() {
            var correctAnswers = ['B', 'B', 'B', 'B', 'B', 'C', 'B'];
            var userAnswers = [];

            for (var i = 1; i <= 7; i++) {
                var selectedOption = document.querySelector('input[name="q' + i + '"]:checked');
                if (selectedOption) {
                    userAnswers.push(selectedOption.value);
                } else {
                    userAnswers.push(null);
                }
            }

            var correctCount = 0;
            for (var i = 0; i < correctAnswers.length; i++) {
                if (userAnswers[i] === correctAnswers[i]) {
                    correctCount++;
                }
            }

            var resultText = (correctCount === correctAnswers.length) ? '7/7 du Streber!' : correctCount + '/' + correctAnswers.length + ' Hör nächstes mal richtig zu du Dulli!';
            
            // Anzeigen der Ergebnisse auf der Seite
            document.getElementById('result-text').innerHTML = resultText;

            // Anzeigen der Lösungen
            var solutionsHtml = '<h4>Lösungen:</h4>';
            for (var i = 0; i < correctAnswers.length; i++) {
                solutionsHtml += '<p>Frage ' + (i + 1) + ': ' + correctAnswers[i] + '</p>';
            }
            document.getElementById('solutions').innerHTML = solutionsHtml;

            // Chart.js
            var ctx = document.getElementById('quizResultsChart').getContext('2d');
            var chart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Richtig', 'Falsch'],
                    datasets: [{
                        data: [correctCount, correctAnswers.length - correctCount],
                        backgroundColor: ['#36A2EB', '#FF6384'],
                        hoverBackgroundColor: ['#36A2EB', '#FF6384']
                    }]
                }
            });

            // Zeigen Sie das Modal mit dem Diagramm an
            $('#result-container').modal('show');
        }
    </script>
</body>

</html>
